from aiogram import Bot, Dispatcher, types, executor
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton

API_TOKEN = "8103348822:AAHRUmDFCaGLbKKxwOpwZRK8zI700KMQezc"

bot = Bot(token=API_TOKEN)
dp = Dispatcher(bot)

# –¢–µ–∫—Å—Ç—ã –ø–æ –∫–Ω–æ–ø–∫–∞–º
options = {
    "–ü—Ä–∏–µ–º –∏ –≤—ã–¥–∞—á–∞ –Ω–∞–ª–∏—á–Ω—ã—Ö": (
        "üì¶ *–ü—Ä–∏–µ–º –∏ –≤—ã–¥–∞—á–∞ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å—Ç—Ä–∞–Ω –º–∏—Ä–∞*\n\n"
        "‚Äî –†–∞–±–æ—Ç–∞–µ–º —Å EUR, USD –∏ –¥—Ä—É–≥–∏–º–∏ –≤–∞–ª—é—Ç–∞–º–∏\n"
        "‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä—É–ø–Ω—ã—Ö —Å—É–º–º\n"
        "‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã\n"
        "‚Äî –ë—ã—Å—Ç—Ä—ã–µ —Å—Ä–æ–∫–∏: –æ—Ç 1 –¥–Ω—è\n"
        "‚Äî –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–µ –∏ —Å—É–º–º–µ\n\n"
        "üìç –£—Ç–æ—á–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É, –≤–∞–ª—é—Ç—É –∏ –æ–±—ä—ë–º ‚Äî –ø–æ–¥–±–µ—Ä—ë–º –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ."
    ),
    "–û–ø–ª–∞—Ç–∞ –ø–æ –∏–Ω–≤–æ–π—Å–∞–º": (
        "üßæ *–û–ø–ª–∞—Ç–∞ –ø–æ –∑–∞–≥—Ä–∞–Ω–∏—á–Ω—ã–º –∏–Ω–≤–æ–π—Å–∞–º –¥–ª—è –±–∏–∑–Ω–µ—Å–∞*\n\n"
        "‚Äî –û–ø–ª–∞—Ç–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 1‚Äì3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π\n"
        "‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ USD, EUR –∏ –¥—Ä—É–≥–∏—Ö –≤–∞–ª—é—Ç\n"
        "‚Äî –†–∞–±–æ—Ç–∞–µ–º —Å —é—Ä.–ª–∏—Ü–∞–º–∏ –∏ –ò–ü\n"
        "‚Äî –í–æ–∑–º–æ–∂–Ω–∞ –æ–ø–ª–∞—Ç–∞ –∏–∑ –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —é—Ä–∏—Å–¥–∏–∫—Ü–∏–π\n"
        "‚Äî –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–± –æ–ø–ª–∞—Ç–µ\n\n"
        "üìå –£—Ç–æ—á–Ω–∏—Ç–µ –≤–∞–ª—é—Ç—É, —Å—É–º–º—É –∏ —Å—Ç—Ä–∞–Ω—É –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è."
    ),
    "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–ª–∏—á–Ω—ã—Ö": (
        "üåç *–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–ª–∏—á–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –≤ –ª—é–±—É—é —Ç–æ—á–∫—É –º–∏—Ä–∞*\n\n"
        "‚Äî –†–∞–±–æ—Ç–∞–µ–º –ø–æ –∑–∞—è–≤–∫–µ: —Å—Ç—Ä–∞–Ω–∞ ‚Üí —Å—Ç—Ä–∞–Ω–∞\n"
        "‚Äî –ë—ã—Å—Ç—Ä—ã–µ —Å—Ä–æ–∫–∏: –æ—Ç 1 –¥–Ω—è\n"
        "‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã\n"
        "‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä—É–ø–Ω—ã—Ö —Å—É–º–º\n"
        "‚Äî –ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –¥–ª—è —á–∞—Å—Ç–Ω—ã—Ö, —Ç–∞–∫ –∏ –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤\n\n"
        "üí¨ –£—Ç–æ—á–Ω–∏—Ç–µ –æ—Ç–∫—É–¥–∞ ‚Üí –∫—É–¥–∞, —Å—É–º–º—É –∏ —Å—Ä–æ–∫."
    ),
    "–í–æ–∑–≤—Ä–∞—Ç –≤–∞–ª—é—Ç—ã": (
        "üí∏ *–í–æ–∑–≤—Ä–∞—Ç –≤–∞–ª—é—Ç—ã —Å –∑–∞—Ä—É–±–µ–∂–Ω—ã—Ö —Å—á–µ—Ç–æ–≤ –∏ –±–∏–∑–Ω–µ—Å–∞*\n\n"
        "‚Äî –ü–æ–º–æ–≥–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –≤—ã—Ä—É—á–∫—É –∏–ª–∏ –ª–∏—á–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞\n"
        "‚Äî –í–æ–∑–º–æ–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—Ç –∏–∑ –ï–≤—Ä–æ–ø—ã, –ê–∑–∏–∏, –û–ê–≠, –¢—É—Ä—Ü–∏–∏ –∏ –¥—Ä.\n"
        "‚Äî –ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–µ–≥–∞–ª—å–Ω—ã–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã\n"
        "‚Äî –ë–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ–º\n"
        "‚Äî –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –ø–æ–¥ –∫–µ–π—Å\n\n"
        "üì© –û–ø–∏—à–∏—Ç–µ —é—Ä–∏—Å–¥–∏–∫—Ü–∏—é –∏ –æ–±—ä—ë–º ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–º –≤–∞—Ä–∏–∞–Ω—Ç."
    ),
    "–ü–µ—Ä–µ–≤–æ–¥ –≤ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —é—Ä–∏—Å–¥–∏–∫—Ü–∏—é": (
        "üè¶ *–ü–µ—Ä–µ–≤–æ–¥ —Å –ª–∏—á–Ω—ã—Ö —Å—á–µ—Ç–æ–≤ –≤ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —é—Ä–∏—Å–¥–∏–∫—Ü–∏—é*\n\n"
        "‚Äî –†–∞–±–æ—Ç–∞–µ–º —Å –†–§, –°–ù–ì, –ï–°, –¢—É—Ä—Ü–∏–µ–π –∏ –¥—Ä.\n"
        "‚Äî –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è –≤–∞–ª—é—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è\n"
        "‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ —Ñ–∏–∑–ª–∏—Ü, —Ç–∞–∫ –∏ –ò–ü\n"
        "‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏\n"
        "‚Äî –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å\n\n"
        "üìã –£—Ç–æ—á–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –∏ –æ–±—ä—ë–º ‚Äî –æ–±—Å—É–¥–∏–º —Ä–µ—à–µ–Ω–∏–µ."
    ),
    "–û–ø–ª–∞—Ç–∞ –∑–∞–≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å—á–µ—Ç–æ–≤": (
        "üí≥ *–û–ø–ª–∞—Ç–∞ –∑–∞–≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å—á–µ—Ç–æ–≤ (–∞—Ä–µ–Ω–¥–∞, —É—Å–ª—É–≥–∏, —Ç–æ–≤–∞—Ä—ã)*\n\n"
        "‚Äî –û–ø–ª–∞—Ç–∞ –≤ USD, EUR, AED –∏ –¥—Ä.\n"
        "‚Äî –†–∞–±–æ—Ç–∞–µ–º —Å —é—Ä.–ª–∏—Ü–∞–º–∏ –∏ —Ñ–∏–∑–ª–∏—Ü–∞–º–∏\n"
        "‚Äî –ë—ã—Å—Ç—Ä–∞—è –∏ –Ω–∞–¥—ë–∂–Ω–∞—è —Å—Ö–µ–º–∞\n"
        "‚Äî –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –æ–ø–ª–∞—Ç –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É\n"
        "‚Äî –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞—Ä–µ–Ω–¥—ã, –æ–±—É—á–µ–Ω–∏—è, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤\n\n"
        "üì§ –£—Ç–æ—á–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –∏ —Å—É–º–º—É ‚Äî —Ä–∞—Å—Å—á–∏—Ç–∞–µ–º —É—Å–ª–æ–≤–∏—è."
    )
}

keyboard = ReplyKeyboardMarkup(resize_keyboard=True)
for key in options.keys():
    keyboard.add(KeyboardButton(text=key))

# –°–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è ID —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –±–æ—Ç–æ–º
sent_messages = {}

@dp.message_handler(commands=["start"])
async def start_cmd(message: types.Message):
    # –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–æ—Ç–æ–º —Ä–∞–Ω–µ–µ (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
    if message.from_user.id in sent_messages:
        for msg_id in sent_messages[message.from_user.id]:
            try:
                await bot.delete_message(chat_id=message.chat.id, message_id=msg_id)
            except:
                pass
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏
    sent_msg = await message.answer("–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –ø—É–Ω–∫—Ç:", reply_markup=keyboard)
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    sent_messages[message.from_user.id] = [sent_msg.message_id]

@dp.message_handler(lambda message: message.text in options)
async def handle_option(message: types.Message):
    # –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–æ—Ç–æ–º —Ä–∞–Ω–µ–µ
    if message.from_user.id in sent_messages:
        for msg_id in sent_messages[message.from_user.id]:
            try:
                await bot.delete_message(chat_id=message.chat.id, message_id=msg_id)
            except:
                pass
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç
    text = options[message.text]
    sent_msg = await message.answer(text, parse_mode="Markdown")
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    sent_messages[message.from_user.id].append(sent_msg.message_id)

if __name__ == "__main__":
    executor.start_polling(dp)
